<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
        <script type="module">

            // import kaboom lib
            import kaboom from "https://unpkg.com/kaboom/dist/kaboom.mjs";
            kaboom();

            loadSprite("background", "img/background-3.jpg");
            loadSprite("block", "img/block-6.png");
            loadSprite("table", "img/table.png");
            loadSprite("bread", "img/bread.png");
            loadSprite("cheese", "img/cheese.png");



            add ([
                sprite("background", {width: width(), height: height()})
            ])

            const player = add ([
                sprite("block"),
                scale(0.1),
                pos(60, 133),
                solid(),
                area(),
            ])

            const SPEED = 480
            const JUMP_FORCE = 20000
            const FALL_DEATH = 2400

//             onKeyPress("space", () => {
// 	if (player.isGrounded()) {
// 		player.jump(JUMP_FORCE)
// 	}
// })

            onKeyDown("left", () => {
	        player.move(-SPEED, 0)
                })

                onKeyDown("right", () => {
	        player.move(SPEED, 0)
                })


                onKeyDown("down", () => {
	        player.move(0, SPEED)
                })

                onKeyDown("up", () => {
	        player.move(0, -SPEED)
                })



            addLevel([
                "                                   ",
                "               ^.                  ",
                "                                   ",
                "                                   ",
                "                                   ",
                "                                  ",
                "xxxxxxxxxxx     xxxxxxxxxxxxxxxxxxx",
                "x          x                      x",
                "x           x                     x",
                "x            x                    x",
                "x ^           x       ^           x",
                "x              x                  x",
                "x               x                 x",
                "x                x                x",
                "x                 x               x",
                "x       A         xxxxxxxxx       x",
                "x                                 x",
                "x                                 x",
                "x                                 x",
                "x                                 x",
                "x                                 x",
                "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
            ], {
            tileWidth: 40,
            tileHeight: 30,
        tiles: {
                "x": () => [
                    sprite("block"),
                    scale(0.1),
                    area(),
                    solid()
                ],
                width: 65,
                height: 65,
                "^": () => [
                    sprite("table"),
                    scale(0.8),
                ],
                "A": () => [
                    sprite("bread"),
                    scale(0.4),
                ],
                "$": () => [
                    sprite("cheese"),
                    scale(0.3),
                ]
            }
        })


        // const map = [
        //         "                                   ",
        //         "               ^.                  ",
        //         "                                   ",
        //         "                                   ",
        //         "                                   ",
        //         "                                  ",
        //         "xxxxxxxxxxx     xxxxxxxxxxxxxxxxxxx",
        //         "x          x                      x",
        //         "x           x                     x",
        //         "x            x                    x",
        //         "x ^           x       ^           x",
        //         "x              x                  x",
        //         "x               x                 x",
        //         "x                x                x",
        //         "x                 x               x",
        //         "x       A         xxxxxxxxx       x",
        //         "x                                 x",
        //         "x                                 x",
        //         "x                                 x",
        //         "x                                 x",
        //         "x                                 x",
        //         "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
        // ]

        // const levelCfg = {
        //     tileWidth: 40,
        //     tileHeight: 30,

        //     tiles: {
        //         "x": () => [
        //             sprite("block"),
        //             scale(0.1),
        //             // area(),
        //             // solid()

        //         ],
        //         width: 65,
        //         height: 65,
        //         "^": () => [
        //             sprite("table"),
        //             scale(0.8),
        //             // area(),
        //             // solid()
        //         ],
        //         "A": () => [
        //             sprite("bread"),
        //             scale(0.4),
        //             // area(),
        //             // body()
        //             // // solid()
        //         ]
        //     }

        // }
        // addLevel(map, levelCfg)




        </script>
    </body>
</html>
